{"code":"!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.AbriGL=e():t.AbriGL=e()}(window,(function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,\"a\",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p=\"\",r(r.s=0)}([function(t,e,n){\"use strict\";function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}n.r(e),n.d(e,\"default\",(function(){return j}));var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.gl=e}var e,r,n;return e=t,(r=[{key:\"create_shader\",value:function(t){var e;if(t){switch(t.type){case\"x-shader/x-vertex\":e=this.gl.createShader(this.gl.VERTEX_SHADER);break;case\"x-shader/x-fragment\":e=this.gl.createShader(this.gl.FRAGMENT_SHADER);break;default:return}if(this.gl.shaderSource(e,t.text),this.gl.compileShader(e),this.gl.getShaderParameter(e,this.gl.COMPILE_STATUS))return e;alert(this.gl.getShaderInfoLog(e))}}},{key:\"create_program\",value:function(t,e){var r=this.gl.createProgram();if(this.gl.attachShader(r,t),this.gl.attachShader(r,e),this.gl.linkProgram(r),this.gl.getProgramParameter(r,this.gl.LINK_STATUS))return this.gl.useProgram(r),r;alert(this.gl.getProgramInfoLog(r))}},{key:\"create_vbo\",value:function(t){var e=this.gl.createBuffer();return this.gl.bindBuffer(this.gl.ARRAY_BUFFER,e),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array(t),this.gl.STATIC_DRAW),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null),e}},{key:\"set_attribute\",value:function(t,e,r){for(var n in t)this.gl.bindBuffer(this.gl.ARRAY_BUFFER,t[n]),this.gl.enableVertexAttribArray(e[n]),this.gl.vertexAttribPointer(e[n],r[n],this.gl.FLOAT,!1,0,0)}},{key:\"create_ibo\",value:function(t){var e=this.gl.createBuffer();return this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,e),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,new Int16Array(t),this.gl.STATIC_DRAW),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,null),e}},{key:\"create_texture\",value:function(t){var e=new Image;e.onload=function(){var t=this.gl.createTexture();this.gl.bindTexture(this.gl.TEXTURE_2D,t),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,e),this.gl.generateMipmap(this.gl.TEXTURE_2D),this.gl.bindTexture(this.gl.TEXTURE_2D,null),textureInstnace.t=t},e.src=t}},{key:\"create_framebuffer\",value:function(t,e){var r=this.gl.createFramebuffer();this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,r);var n=this.gl.createRenderbuffer();this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,n),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.DEPTH_COMPONENT16,t,e),this.gl.framebufferRenderbuffer(this.gl.FRAMEBUFFER,this.gl.DEPTH_ATTACHMENT,this.gl.RENDERBUFFER,n);var i=this.gl.createTexture();return this.gl.bindTexture(this.gl.TEXTURE_2D,i),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,t,e,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,null),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,this.gl.TEXTURE_2D,i,0),this.gl.bindTexture(this.gl.TEXTURE_2D,null),this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,null),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),{f:r,d:n,t:i}}}])&&a(e.prototype,r),n&&a(e,n),t}();function s(t,e){var r;if(\"undefined\"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if(\"string\"==typeof t)return u(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);\"Object\"===r&&t.constructor&&(r=t.constructor.name);if(\"Map\"===r||\"Set\"===r)return Array.from(t);if(\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(t,e)}(t))||e&&t&&\"number\"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var a,o=!0,s=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function l(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function h(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t,e,r){return e&&h(t.prototype,e),r&&h(t,r),t}var f=function(){function t(e){l(this,t),this.gl=e,this.w=new o(e)}return c(t,[{key:\"init\",value:function(t,e){var r=this,n=this.w.create_shader(t),i=this.w.create_shader(e);this.prg=this.w.create_program(n,i),this.cap=[],this.attList=[],this.attLocation=[],this.attStride=[],this.uniLocation={},this.uniformFunction={},this.currentInstance=null;var a,o,u,l=function(t,e){r.gl.uniform1i(t,e)},h={position:3,normal:3,color:4,textureCoord:2},c={mat4:function(t,e){r.gl.uniformMatrix4fv(t,!1,e)},vec4:function(t,e){r.gl.uniform4fv(t,e)},vec3:function(t,e){r.gl.uniform3fv(t,e)},vec2:function(t,e){r.gl.uniform2fv(t,e)},float:function(t,e){r.gl.uniform1f(t,e)},int:l,sampler2D:l,bool:l},f=s(t.text.split(\";\").concat(e.text.split(\";\")));try{for(f.s();!(u=f.n()).done;){var g=u.value;g.indexOf(\"attribute\")+1?this.attList.push(g.split(\" \").slice(-1)[0]):g.indexOf(\"uniform\")+1&&(a=g.split(\" \").slice(-1)[0],o=g.split(\" \").filter((function(t){return\"\"!=t})).slice(-2)[0],this.uniLocation[a]=this.gl.getUniformLocation(this.prg,a),this.uniformFunction[a]=c[o])}}catch(t){f.e(t)}finally{f.f()}var v,y=s(this.attList);try{for(y.s();!(v=y.n()).done;){var p=v.value;this.attLocation.push(this.gl.getAttribLocation(this.prg,p)),this.attStride.push(h[p])}}catch(t){y.e(t)}finally{y.f()}return Object.assign({},this)}},{key:\"clear\",value:function(t){this.gl.clearColor(t[0],t[1],t[2],t[3]),this.gl.clearDepth(1),this.gl.clearStencil(0),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT|this.gl.STENCIL_BUFFER_BIT)}},{key:\"setCapability\",value:function(t){this.cap.push(t)}},{key:\"setAttribute\",value:function(t,e){this.w.set_attribute(t.VBOList,this.attLocation,this.attStride),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,t.Index),this.currentInstance=t,e(),this.currentInstance=null}},{key:\"setUniform\",value:function(t,e){this.uniformFunction[t](this.uniLocation[t],e)}},{key:\"drawElement\",value:function(t){for(var e in this.currentInstance.texture)this.gl.activeTexture(this.gl.TEXTURE0+Number(e)),this.gl.bindTexture(this.gl.TEXTURE_2D,this.currentInstance.texture[e]);var r,n=s(this.currentInstance.cap);try{for(n.s();!(r=n.n()).done;){var i=r.value;this.gl.enable(i)}}catch(t){n.e(t)}finally{n.f()}var a,o=s(this.currentInstance.unCap);try{for(o.s();!(a=o.n()).done;){var u=a.value;this.gl.disable(u)}}catch(t){o.e(t)}finally{o.f()}var l,h=this.currentInstance.stencilSetting;for(var c in this.gl.stencilFunc(h[0],h[1],h[2]),this.gl.stencilOp(h[3],h[4],h[5]),this.currentInstance.uniform)try{l=this.currentInstance.uniform[c],this.setUniform(c,l)}catch(t){console.log(\"uniformKey : \"+c,\"argument : \"+l),console.error(t.message)}this.gl.drawElements(t,this.currentInstance.indexLength,this.gl.UNSIGNED_SHORT,0);var f,g=s(this.currentInstance.cap);try{for(g.s();!(f=g.n()).done;){var v=f.value;this.gl.disable(v)}}catch(t){g.e(t)}finally{g.f()}var y,p=s(this.currentInstance.unCap);try{for(p.s();!(y=p.n()).done;){var b=y.value;this.gl.enable(b)}}catch(t){p.e(t)}finally{p.f()}}}]),t}(),g=function(){function t(e){l(this,t),this.gl=e,this.w=new o(e)}return c(t,[{key:\"init\",value:function(){return Object.assign({},this)}},{key:\"switchShader\",value:function(t,e){this.gl.useProgram(t.prg);var r,n=s(t.cap);try{for(n.s();!(r=n.n()).done;){var i=r.value;this.gl.enable(i)}}catch(t){n.e(t)}finally{n.f()}e();var a,o=s(t.cap);try{for(o.s();!(a=o.n()).done;){var u=a.value;this.gl.disable(u)}}catch(t){o.e(t)}finally{o.f()}}},{key:\"setFrameBuffer\",value:function(t,e){this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,t),e(),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null)}},{key:\"createFrameBuffer\",value:function(t,e){return this.w.create_framebuffer(t,e)}}]),t}();function v(t){return(v=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function y(t,e){var r;if(\"undefined\"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if(\"string\"==typeof t)return p(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);\"Object\"===r&&t.constructor&&(r=t.constructor.name);if(\"Map\"===r||\"Set\"===r)return Array.from(t);if(\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(t,e)}(t))||e&&t&&\"number\"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var a,o=!0,s=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function b(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function E(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=_(t);if(e){var i=_(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return m(this,r)}}function m(t,e){return!e||\"object\"!==v(e)&&\"function\"!=typeof e?function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t):e}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function w(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function R(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function T(t,e,r){return e&&R(t.prototype,e),r&&R(t,r),t}var A=function(){function t(e){w(this,t),this.gl=e,this.w=new o(e),this.Index,this.indexLength,this.VBOList=[],this.cap=[],this.unCap=[],this.uniform={},this.texture={0:null},this.stencilSetting=[this.gl.ALWAYS,1,-1,this.gl.KEEP,this.gl.KEEP,this.gl.KEEP],this.colorIndex,this.colorLength}return T(t,[{key:\"setCapability\",value:function(t){this.cap.push(t)}},{key:\"unSetCapability\",value:function(t){this.unCap.push(t)}},{key:\"setTexture\",value:function(t,e){this.texture[t]=e}},{key:\"setUniform\",value:function(t,e){this.uniform[t]=e}},{key:\"setStencil\",value:function(t,e,r,n,i,a){this.stencilSetting=[t,e,r,n,i,a]}},{key:\"setColor\",value:function(t){for(var e=[],r=0;r<this.colorLength;r++)e.push(t[0],t[1],t[2],t[3]);this.VBOList[this.colorIndex]=this.w.create_vbo(e)}}]),t}(),x=function(t){b(r,t);var e=E(r);function r(t){return w(this,r),e.call(this,t)}return T(r,[{key:\"init\",value:function(t,e){var r,n={position:this.w.create_vbo([0,0,0]),normal:this.w.create_vbo([1,1,1]),color:this.w.create_vbo(e),textureCoord:this.w.create_vbo([0,0])},i=0,a=y(t.attList);try{for(a.s();!(r=a.n()).done;){var o=r.value;this.VBOList.push(n[o]),\"color\"==o&&(this.colorIndex=i),i++}}catch(t){a.e(t)}finally{a.f()}return this.colorLength=1,this.indexLength=1,this.Index=this.w.create_ibo([0]),Object.assign({},this)}}]),r}(A),I=function(t){b(r,t);var e=E(r);function r(t){return w(this,r),e.call(this,t)}return T(r,[{key:\"init\",value:function(t,e){var r,n=U(1,e),i={position:this.w.create_vbo(n.p),normal:this.w.create_vbo(n.n),color:this.w.create_vbo(n.c),textureCoord:this.w.create_vbo(n.t)},a=0,o=y(t.attList);try{for(o.s();!(r=o.n()).done;){var s=r.value;this.VBOList.push(i[s]),\"color\"==s&&(this.colorIndex=a),a++}}catch(t){o.e(t)}finally{o.f()}return this.colorLength=n.p.length/3,this.indexLength=n.i.length,this.Index=this.w.create_ibo(n.i),Object.assign({},this)}}]),r}(A),F=function(t){b(r,t);var e=E(r);function r(t){return w(this,r),e.call(this,t)}return T(r,[{key:\"init\",value:function(t,e,r){var n,i=O(e,e,1,r),a={position:this.w.create_vbo(i.p),normal:this.w.create_vbo(i.n),color:this.w.create_vbo(i.c),textureCoord:this.w.create_vbo(i.t)},o=0,s=y(t.attList);try{for(s.s();!(n=s.n()).done;){var u=n.value;this.VBOList.push(a[u]),\"color\"==u&&(this.colorIndex=o),o++}}catch(t){s.e(t)}finally{s.f()}return this.colorLength=i.p.length/3,this.indexLength=i.i.length,this.Index=this.w.create_ibo(i.i),Object.assign({},this)}}]),r}(A),M=function(t){b(r,t);var e=E(r);function r(t){return w(this,r),e.call(this,t)}return T(r,[{key:\"init\",value:function(t,e,r,n,i){var a,o=B(e,e,r,n,i),s={position:this.w.create_vbo(o.p),normal:this.w.create_vbo(o.n),color:this.w.create_vbo(o.c),textureCoord:this.w.create_vbo(o.t)},u=0,l=y(t.attList);try{for(l.s();!(a=l.n()).done;){var h=a.value;this.VBOList.push(s[h]),\"color\"==h&&(this.colorIndex=u),u++}}catch(t){l.e(t)}finally{l.f()}return this.indexLength=o.i.length,this.Index=this.w.create_ibo(o.i),Object.assign({},this)}}]),r}(A),S=function(t){b(r,t);var e=E(r);function r(t){return w(this,r),e.call(this,t)}return T(r,[{key:\"init\",value:function(t){var e,r=[0,2,1,3,1,2],n={position:this.w.create_vbo([-1,1,0,1,1,0,-1,-1,0,1,-1,0]),color:this.w.create_vbo([1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1])},i=0,a=y(t.attList);try{for(a.s();!(e=a.n()).done;){var o=e.value;this.VBOList.push(n[o]),\"color\"==o&&(this.colorIndex=i),i++}}catch(t){a.e(t)}finally{a.f()}return this.indexLength=r.length,this.Index=this.w.create_ibo(r),Object.assign({},this)}}]),r}(A),L=function(){function t(e){w(this,t),this.gl=e}return T(t,[{key:\"init\",value:function(t){return this.t=null,this.changeImg(t),Object.assign({},this)}},{key:\"changeImg\",value:function(t){var e=this,r=new Image;r.onload=function(){var t=e.gl.createTexture();e.gl.bindTexture(e.gl.TEXTURE_2D,t),e.gl.texImage2D(e.gl.TEXTURE_2D,0,e.gl.RGBA,e.gl.RGBA,e.gl.UNSIGNED_BYTE,r),e.gl.generateMipmap(e.gl.TEXTURE_2D),e.gl.bindTexture(e.gl.TEXTURE_2D,null),e.t=t},r.src=t}}]),t}(),B=function(t,e,n,a,o){for(var s=new Array,u=new Array,l=new Array,h=new Array,c=new Array,f=0;f<=t;f++)for(var g=2*Math.PI/t*f,v=Math.cos(g),y=Math.sin(g),p=0;p<=e;p++){var b=2*Math.PI/e*p,d=(v*n+a)*Math.cos(b),E=y*n,m=(v*n+a)*Math.sin(b),_=v*Math.cos(b),w=v*Math.sin(b);if(o);else tc=D(360/e*p,1,1,1);var R=1/e*p,T=1/t*f+.5;T>1&&(T-=1),T=1-T,s.push(d,E,m),u.push(_,y,w),l.push(tc[0],tc[1],tc[2],tc[3]),h.push(R,T)}for(i=0;i<t;i++)for(ii=0;ii<e;ii++)r=(e+1)*i+ii,c.push(r,r+e+1,r+1),c.push(r+e+1,r+e+2,r+1);return{p:s,n:u,c:l,t:h,i:c}},O=function(t,e,n,a){for(var o,s=new Array,u=new Array,l=new Array,h=new Array,c=new Array,f=0;f<=t;f++)for(var g=Math.PI/t*f,v=Math.cos(g),y=Math.sin(g),p=0;p<=e;p++){var b=2*Math.PI/e*p,d=y*n*Math.cos(b),E=v*n,m=y*n*Math.sin(b),_=y*Math.cos(b),w=y*Math.sin(b);o=a||D(360/t*f,1,1,1),s.push(d,E,m),u.push(_,v,w),l.push(o[0],o[1],o[2],o[3]),h.push(1-1/e*p,1/t*f)}for(r=0,i=0;i<t;i++)for(ii=0;ii<e;ii++)r=(e+1)*i+ii,c.push(r,r+1,r+e+2),c.push(r,r+e+2,r+e+1);return{p:s,n:u,c:l,t:h,i:c}},U=function(t,e){for(var r,n=.5*t,i=[-n,-n,n,n,-n,n,n,n,n,-n,n,n,-n,-n,-n,-n,n,-n,n,n,-n,n,-n,-n,-n,n,-n,-n,n,n,n,n,n,n,n,-n,-n,-n,-n,n,-n,-n,n,-n,n,-n,-n,n,n,-n,-n,n,n,-n,n,n,n,n,-n,n,-n,-n,-n,-n,-n,n,-n,n,n,-n,n,-n],a=new Array,o=0;o<i.length/3;o++)r=e||D(360/i.length/3*o,1,1,1),a.push(r[0],r[1],r[2],r[3]);return{p:i,n:[-1,-1,1,1,-1,1,1,1,1,-1,1,1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,1,-1,-1,1,1,1,1,1,1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,-1,1,-1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1],c:a,t:[0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1],i:[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]}},D=function(t,e,r,n){if(!(e>1||r>1||n>1)){var i=t%360,a=Math.floor(i/60),o=i/60-a,s=r*(1-e),u=r*(1-e*o),l=r*(1-e*(1-o)),h=new Array;if(!e>0&&!e<0)h.push(r,r,r,n);else{var c=new Array(r,u,s,s,l,r),f=new Array(l,r,r,u,s,s),g=new Array(s,s,l,r,r,u);h.push(c[a],f[a],g[a],n)}return h}};function k(){this.create=function(){return new Float32Array(16)},this.identity=function(){var t=this.create();return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},this.multiply=function(t,e){var r=this.create(),n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=t[6],h=t[7],c=t[8],f=t[9],g=t[10],v=t[11],y=t[12],p=t[13],b=t[14],d=t[15],E=e[0],m=e[1],_=e[2],w=e[3],R=e[4],T=e[5],A=e[6],x=e[7],I=e[8],F=e[9],M=e[10],S=e[11],L=e[12],B=e[13],O=e[14],U=e[15];return r[0]=E*n+m*s+_*c+w*y,r[1]=E*i+m*u+_*f+w*p,r[2]=E*a+m*l+_*g+w*b,r[3]=E*o+m*h+_*v+w*d,r[4]=R*n+T*s+A*c+x*y,r[5]=R*i+T*u+A*f+x*p,r[6]=R*a+T*l+A*g+x*b,r[7]=R*o+T*h+A*v+x*d,r[8]=I*n+F*s+M*c+S*y,r[9]=I*i+F*u+M*f+S*p,r[10]=I*a+F*l+M*g+S*b,r[11]=I*o+F*h+M*v+S*d,r[12]=L*n+B*s+O*c+U*y,r[13]=L*i+B*u+O*f+U*p,r[14]=L*a+B*l+O*g+U*b,r[15]=L*o+B*h+O*v+U*d,r},this.scale=function(t,e){var r=this.create();return r[0]=t[0]*e[0],r[1]=t[1]*e[0],r[2]=t[2]*e[0],r[3]=t[3]*e[0],r[4]=t[4]*e[1],r[5]=t[5]*e[1],r[6]=t[6]*e[1],r[7]=t[7]*e[1],r[8]=t[8]*e[2],r[9]=t[9]*e[2],r[10]=t[10]*e[2],r[11]=t[11]*e[2],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r},this.translate=function(t,e){var r=this.create();return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[0]*e[0]+t[4]*e[1]+t[8]*e[2]+t[12],r[13]=t[1]*e[0]+t[5]*e[1]+t[9]*e[2]+t[13],r[14]=t[2]*e[0]+t[6]*e[1]+t[10]*e[2]+t[14],r[15]=t[3]*e[0]+t[7]*e[1]+t[11]*e[2]+t[15],r},this.rotate=function(t,e,r){var n=this.create(),i=Math.sqrt(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);if(!i)return null;var a=r[0],o=r[1],s=r[2];1!=i&&(a*=i=1/i,o*=i,s*=i);var u=Math.sin(e),l=Math.cos(e),h=1-l,c=t[0],f=t[1],g=t[2],v=t[3],y=t[4],p=t[5],b=t[6],d=t[7],E=t[8],m=t[9],_=t[10],w=t[11],R=a*a*h+l,T=o*a*h+s*u,A=s*a*h-o*u,x=a*o*h-s*u,I=o*o*h+l,F=s*o*h+a*u,M=a*s*h+o*u,S=o*s*h-a*u,L=s*s*h+l;return e?t!=n&&(n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15]):n=t,n[0]=c*R+y*T+E*A,n[1]=f*R+p*T+m*A,n[2]=g*R+b*T+_*A,n[3]=v*R+d*T+w*A,n[4]=c*x+y*I+E*F,n[5]=f*x+p*I+m*F,n[6]=g*x+b*I+_*F,n[7]=v*x+d*I+w*F,n[8]=c*M+y*S+E*L,n[9]=f*M+p*S+m*L,n[10]=g*M+b*S+_*L,n[11]=v*M+d*S+w*L,n},this.lookAt=function(t,e,r){var n,i,a,o,s,u,l,h,c,f,g=this.create(),v=t[0],y=t[1],p=t[2],b=r[0],d=r[1],E=r[2],m=e[0],_=e[1],w=e[2];return v==m&&y==_&&p==w?this.identity(g):(l=v-e[0],h=y-e[1],c=p-e[2],n=d*(c*=f=1/Math.sqrt(l*l+h*h+c*c))-E*(h*=f),i=E*(l*=f)-b*c,a=b*h-d*l,(f=Math.sqrt(n*n+i*i+a*a))?(n*=f=1/f,i*=f,a*=f):(n=0,i=0,a=0),o=h*a-c*i,s=c*n-l*a,u=l*i-h*n,(f=Math.sqrt(o*o+s*s+u*u))?(o*=f=1/f,s*=f,u*=f):(o=0,s=0,u=0),g[0]=n,g[1]=o,g[2]=l,g[3]=0,g[4]=i,g[5]=s,g[6]=h,g[7]=0,g[8]=a,g[9]=u,g[10]=c,g[11]=0,g[12]=-(n*v+i*y+a*p),g[13]=-(o*v+s*y+u*p),g[14]=-(l*v+h*y+c*p),g[15]=1,g)},this.perspective=function(t,e,r,n){var i=this.create(),a=r*Math.tan(t*Math.PI/360),o=2*(a*e),s=2*a,u=n-r;return i[0]=2*r/o,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=2*r/s,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=-(n+r)/u,i[11]=-1,i[12]=0,i[13]=0,i[14]=-n*r*2/u,i[15]=0,i},this.ortho=function(t,e,r,n,i,a){var o=this.create(),s=e-t,u=r-n,l=a-i;return o[0]=2/s,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=2/u,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=-2/l,o[11]=0,o[12]=-(t+e)/s,o[13]=-(r+n)/u,o[14]=-(a+i)/l,o[15]=1,o},this.transpose=function(t){var e=this.create();return e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15],e},this.inverse=function(t){var e=this.create(),r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=t[6],l=t[7],h=t[8],c=t[9],f=t[10],g=t[11],v=t[12],y=t[13],p=t[14],b=t[15],d=r*s-n*o,E=r*u-i*o,m=r*l-a*o,_=n*u-i*s,w=n*l-a*s,R=i*l-a*u,T=h*y-c*v,A=h*p-f*v,x=h*b-g*v,I=c*p-f*y,F=c*b-g*y,M=f*b-g*p,S=1/(d*M-E*F+m*I+_*x-w*A+R*T);return e[0]=(s*M-u*F+l*I)*S,e[1]=(-n*M+i*F-a*I)*S,e[2]=(y*R-p*w+b*_)*S,e[3]=(-c*R+f*w-g*_)*S,e[4]=(-o*M+u*x-l*A)*S,e[5]=(r*M-i*x+a*A)*S,e[6]=(-v*R+p*m-b*E)*S,e[7]=(h*R-f*m+g*E)*S,e[8]=(o*F-s*x+l*T)*S,e[9]=(-r*F+n*x-a*T)*S,e[10]=(v*w-y*m+b*d)*S,e[11]=(-h*w+c*m-g*d)*S,e[12]=(-o*I+s*A-u*T)*S,e[13]=(r*I-n*A+i*T)*S,e[14]=(-v*_+y*E-p*d)*S,e[15]=(h*_-c*E+f*d)*S,e},this.orthographicMatrix=function(){var t=this.lookAt([0,0,.5],[0,0,0],[0,1,0]),e=this.ortho(-1,1,1,-1,.1,1);return this.multiply(e,t)}}function P(){this.create=function(){return new Float32Array(4)},this.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},this.inverse=function(t,e){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e},this.normalize=function(t){var e=t[0],r=t[1],n=t[2],i=t[3],a=Math.sqrt(e*e+r*r+n*n+i*i);return 0===a?(t[0]=0,t[1]=0,t[2]=0,t[3]=0):(a=1/a,t[0]=e*a,t[1]=r*a,t[2]=n*a,t[3]=i*a),t},this.multiply=function(t,e,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=e[0],u=e[1],l=e[2],h=e[3];return r[0]=n*h+o*s+i*l-a*u,r[1]=i*h+o*u+a*s-n*l,r[2]=a*h+o*l+n*u-i*s,r[3]=o*h-n*s-i*u-a*l,r},this.rotate=function(t,e,r){var n=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);if(!n)return null;var i=e[0],a=e[1],o=e[2];1!=n&&(i*=n=1/n,a*=n,o*=n);var s=Math.sin(.5*t);return r[0]=i*s,r[1]=a*s,r[2]=o*s,r[3]=Math.cos(.5*t),r},this.toVecIII=function(t,e,r){var n=this.create(),i=this.create(),a=this.create();return this.inverse(e,a),n[0]=t[0],n[1]=t[1],n[2]=t[2],this.multiply(a,n,i),this.multiply(i,e,a),r[0]=a[0],r[1]=a[1],r[2]=a[2],r},this.toMatIV=function(t,e){var r=t[0],n=t[1],i=t[2],a=t[3],o=r+r,s=n+n,u=i+i,l=r*o,h=r*s,c=r*u,f=n*s,g=n*u,v=i*u,y=a*o,p=a*s,b=a*u;return e[0]=1-(f+v),e[1]=h-b,e[2]=c+p,e[3]=0,e[4]=h+b,e[5]=1-(l+v),e[6]=g-y,e[7]=0,e[8]=c-p,e[9]=g+y,e[10]=1-(l+f),e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},this.slerp=function(t,e,r,n){var i=t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3],a=1-i*i;if(a<=0)n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3];else if(a=Math.sqrt(a),Math.abs(a)<1e-4)n[0]=.5*t[0]+.5*e[0],n[1]=.5*t[1]+.5*e[1],n[2]=.5*t[2]+.5*e[2],n[3]=.5*t[3]+.5*e[3];else{var o=Math.acos(i),s=o*r,u=Math.sin(o-s)/a,l=Math.sin(s)/a;n[0]=t[0]*u+e[0]*l,n[1]=t[1]*u+e[1]*l,n[2]=t[2]*u+e[2]*l,n[3]=t[3]*u+e[3]*l}return n}}var j=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.CanvasManager=new g(e),this.ShaderManager=new f(e),this.Point=new x(e),this.Cube=new I(e),this.Sphere=new F(e),this.Torus=new M(e),this.Texture=new S(e),this.ImgTexture=new L(e),this.m=new k,this.q=new P,this.hsva=D}}]).default}));","extractedComments":[]}